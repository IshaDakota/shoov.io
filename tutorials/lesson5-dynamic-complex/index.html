<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Lesson 5 - Complex Dynamic Elements &middot; Shoov.io</title><link rel=stylesheet href=/assets/stylesheets/style.min.cfbd6d90.css><link rel=stylesheet href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"><script src=/assets/javascript/all.min.74be1697.js></script><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/assets/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/atom.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-6558346-10', 'auto');
  ga('send', 'pageview');</script></head><body><input type=checkbox class=sidebar-checkbox id=sidebar-checkbox><div class=sidebar id=sidebar><div class=sidebar-item><p></p></div><nav class=sidebar-nav><a class=sidebar-nav-item href="/">Home</a> <a class=sidebar-nav-item href="/glossary/">Glossary</a> <a class=sidebar-nav-item href="/tutorials/lesson1-install/">Lesson 1 - Installation & Setup</a> <a class=sidebar-nav-item href="/tutorials/lesson2-scaffold/">Lesson 2 - Setup a GitHub repository</a> <a class=sidebar-nav-item href="/tutorials/lesson3-static-page/">Lesson 3 - First Baseline Image</a> <a class=sidebar-nav-item href="/tutorials/lesson4-dynamic-intro/">Lesson 4 - Dynamic Elements Intro</a> <a class="sidebar-nav-item active" href="/tutorials/lesson5-dynamic-complex/">Lesson 5 - Complex Dynamic Elements</a></nav><div class=sidebar-item><p>&copy; 2015. All rights reserved.</p></div></div><div class=wrap><div class=masthead><div class=container><h3 class=masthead-title><a href="/" title=Home>Shoov.io</a> <small></small></h3></div></div><div class="container content"><div class=page><h1 class=page-title>Lesson 5 - Complex Dynamic Elements</h1><h1>Planning</h1><p>Let&rsquo;s look the dynamic page in <a href=http://pages.shoov.io/dynamic-page>http://pages.shoov.io/dynamic-page</a> and decide how to deal with each element, remembering that <code>remove</code>, <code>exclude</code> and <code>hide</code> are our main tools.</p><p><img src=/assets/images/tutorials/lesson5/dynamic-elements.jpg alt="Dynamic elements"></p><p>We should break the task into smaller tasks:</p><ol><li>The clock flip has hours, minutes and seconds that are fixed. Also the divider symbol (<code>:</code>) and the fact that we have two flip cards for each time interval.</li><li>The carousel has fixed width and height, and the caption is always in a single line.</li><li>The text on the right is dynamic, and every page refresh reveals that we can have between one to three paragraphes of random text.</li></ol><blockquote><p>Tip: Different element, require different tools.</p></blockquote><h2>Clock Flip - Not Just Exclude</h2><p>If you think <code>exclude</code> is the right approach in order to hide the flip cards - you are <u>almost</u> right. Look what happens when we execute the test (you may need to run it a few times to see the exact same error)</p><p><img src=/assets/images/tutorials/lesson5/clock-wings.jpg alt="Clock excluded incorrectly"></p><p>Those weird &ldquo;wings&rdquo; popping out over the flip card&rsquo;s black rectangle are the clock continuing to flip as we take the snapshot. Excluding the element didn&rsquo;t exclude all its child elements that are created and destroyed using JS.</p><p>In fact, we have an interesting situation here, where we want to <code>hide</code> the element (i.e. make it invisible, but keep the space) <u>and</u> still mark it as black rectangle, so we get a visual confirmation the elements are there and in the right place and size.</p><p>Luckily we can apply two commands on the same element.</p><div class=highlight><pre><code class=language-js data-lang=js>.webdrivercss(testName + &#39;.dynamic-homepage&#39;, {
  name: &#39;1&#39;,
  exclude: [
    // Clock flip card.
    &#39;#flip-clock .flip&#39;,
  ],
  hide: [
    // Since the clock is flipping, we want to make sure nothing gets out
    // of the frame, but keep the space.
    &#39;#flip-clock .flip&#39;
  ]
  // ...
}
</code></pre></div><p>Executing the tests with <code>PROVIDER_PREFIX=browserstack SELECTED_CAPS=chrome mocha</code> validates that our solution is correct.</p><p><img src=/assets/images/tutorials/lesson5/clock.jpg alt="Excluded clock"></p><h2>Carousel</h2><p>If your first reaction to carousel is to <code>exclude</code> - think again. Even though our carousel is of fixed size, exclude might not work here, or at least not be optimal.</p><p>Carousels usually work by having a list of existing elements hidden by playing with the <code>overflow</code> property. This creates the effect that elements are moving - while in fact they are somewhere to the right and left of the visible part of the carousel. By using <code>exclude</code> on the images, you might get an image with black rectangles in unexpected areas.</p><p>Furthermore, even if that wasn&rsquo;t the case, the black rectangle completely hides the carousel&rsquo;s left and right arrows, so being able to see them without much effort would be a nice plus.</p><p>This means we should probably <code>hide</code> the images instead of excluding them.</p><p>Now we need to deal with the captions and carousel indicators. Unfortunately <code>exclude</code> won&rsquo;t work for the same reasons we now understand about the images in the carousel. Our options are <code>remove</code> or <code>hide</code>. Both will work in our example, however <code>hide</code> would probably be a better practice. Since <code>remove</code> completely hides the element and makes sure it no longer takes any space - we might create a distortion in the page, as elements that no longer take space, might be pushed by the elements below them.</p><p><img src=/assets/images/tutorials/lesson5/carousel.jpg alt="Hidden images in the carousel"></p><h2>Text</h2><p>The text part is pretty straight forward. The text changes, and the height of it is unknown. A clear case of <code>remove</code>.</p><p><img src=/assets/images/tutorials/lesson5/end-result.jpg alt="End result"></p></div></div></div><label for=sidebar-checkbox class=sidebar-toggle></label></body></html>