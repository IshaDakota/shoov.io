<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Lesson 4 - Dynamic Elements Intro &middot; Shoov.io</title><link rel=stylesheet href=/assets/stylesheets/style.min.cfbd6d90.css><link rel=stylesheet href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"><script src=/assets/javascript/all.min.74be1697.js></script><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/assets/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/atom.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-6558346-10', 'auto');
  ga('send', 'pageview');</script></head><body><input type=checkbox class=sidebar-checkbox id=sidebar-checkbox><div class=sidebar id=sidebar><div class=sidebar-item><p></p></div><nav class=sidebar-nav><a class=sidebar-nav-item href="/">Home</a> <a class=sidebar-nav-item href="/glossary/">Glossary</a> <a class=sidebar-nav-item href="/tutorials/lesson1-install/">Lesson 1 - Installation & Setup</a> <a class=sidebar-nav-item href="/tutorials/lesson2-scaffold/">Lesson 2 - Setup a GitHub repository</a> <a class=sidebar-nav-item href="/tutorials/lesson3-static-page/">Lesson 3 - First Baseline Image</a> <a class="sidebar-nav-item active" href="/tutorials/lesson4-dynamic-intro/">Lesson 4 - Dynamic Elements Intro</a> <a class=sidebar-nav-item href="/tutorials/lesson5-dynamic-complex/">Lesson 5 - Complex Dynamic Elements</a></nav><div class=sidebar-item><p>&copy; 2015. All rights reserved.</p></div></div><div class=wrap><div class=masthead><div class=container><h3 class=masthead-title><a href="/" title=Home>Shoov.io</a> <small></small></h3></div></div><div class="container content"><div class=page><h1 class=page-title>Lesson 4 - Dynamic Elements Intro</h1><h1>Overview</h1><p><a href="/tutorials/lesson3-static-page/">Previous chapter</a> was dealing with a completely static page. That means that no matter how many times we refresh the page, it will always look the same.</p><p>Websites however tend to be more dynamic. But how would a pixel-by-pixel comparison work with such pages? By ignoring them.</p><blockquote><p>Tip: Don&rsquo;t worry if some pages are too dynamic and you&rsquo;ll need to ignore most of the page. Even covering some percentage is much better than none. Furthermore, the &ldquo;ignored&rdquo; parts can be later tested with functional testing.</p></blockquote><p>webdriverCSS has three handy commands that helps us with dynamic elements: <code>exclude</code>, <code>remove</code> and <code>hide</code>. These commands receive a list of CSS selectors and are the key for creating baseline images that can be continuously repeated and always produce the exact same result.</p><ul><li><code>exclude</code>: Place a black rectangle on top of the selected element.</li><li><code>remove</code>: Completely remove the element, so it won&rsquo;t take any space. Under the hood it&rsquo;s using <code>display: none</code>.</li><li><code>hide</code>: Hide the element, but keep the space it&rsquo;s taking. Under the hood it&rsquo;s using <code>visibility: hidden</code>.</li></ul><h1>Ignore Strategy</h1><p>What is better, to exclude or to remove? Well, as always - it depends.</p><p>By default you should try to <code>exclude</code>. Even if the element is dynamic, it might be valuable to assert at least it&rsquo;s present on the page. Even though the content may be dynamic, it&rsquo;s size may be fixed. So for example, and ad can change on every page refresh, but you would like to assert it&rsquo;s always placed in the exact same place, and its always in the exact same width and height.</p><p>But fixed size isn&rsquo;t always the case for dynamic content. A tweet can be consisted of a single or several lines - no way for us to predict. In such cases the <code>remove</code> should be used.</p><p>Also, if you use <code>exclude</code>, but the size of the excluded element is bigger than the size of the non-excluded elements, you may use to <code>remove</code>. A huge black rectangle is just adding size to the baseline image, but has little value. Finding the balance is the key factor here.</p><p>This leaves us with <code>hide</code>. The reason it&rsquo;s not often used is because we&rsquo;d most cases opt with <code>remove</code>. However on cases such elements as a carousel, where some elements are hidden by <code>overflow</code>, using <code>exclude</code> will result with black rectangles in unexpected areas. Or, again with a carousel example, the black rectangle may hide the caption - which is in a fixed size.</p><p>A rule of thumb is that <code>hide</code> is usually used to elements that have child elements that exceed the size of the parent.</p><h2>Fixed elements</h2><p>Before we try to tackle complex scenarios, we still need to figure out how to capture the previous static page on IE - as it resulted with the fixed navbar being duplicated.</p><p>Now that we know the most common commands, we can already fix our problem!</p><p>We can simply <code>remove</code> the navbar. But what about checking the navbar on IE? We can always keep it on Chrome, and remove it just for IE. Something like this:</p><div class=highlight><pre><code class=language-js data-lang=js>.webdrivercss(testName + &#39;.homepage&#39;, {
  name: &#39;1&#39;,
  remove: [
    // Hide the navbar on IE, as it&#39;s fixed and is duplicated.
    selectedCaps == &#39;ie11&#39; ? &#39;.navbar-fixed-top&#39; : &#39;&#39;,
  ],
  // ...
}
</code></pre></div><p>This is a good solution, but we can actually write another test specifically for IE that it will capture only the navbar. For that we will use the <code>elem</code> property which accepts a CSS selector, and will capture only that element. We could then wrap our test with an <code>IF</code> statement, that will be executed only if the selected capabilities is IE.</p><p>Something like this:</p><div class=highlight><pre><code class=language-js data-lang=js>if (selectedCaps == &#39;ie11&#39;) {

  it(&#39;should show the fixed navbar element&#39;,function(done) {
    client
      .url(baseUrl)
      .webdrivercss(testName + &#39;.navbar&#39;, {
        name: &#39;1&#39;,
        // Get only the fixed navbar.
        elem: &#39;.navbar-fixed-top&#39;
      }, resultsCallback)
      .call(done);
  });
};
</code></pre></div><p>In the <a href="/tutorials/lesson5-dynamic-complex/">next chapter</a> we will dive into more complex dynamic elements.</p></div></div></div><label for=sidebar-checkbox class=sidebar-toggle></label></body></html>